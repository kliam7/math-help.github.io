<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unblocker Pro | Advanced Web Proxy</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary-color: #00ff88;
            --secondary-color: #00ccff;
            --bg-color: #0c0c0c;
            --card-bg: rgba(20, 20, 40, 0.7);
            --text-color: #e0e0e0;
            --accent-color: #ff3232;
            --border-color: rgba(0, 255, 136, 0.2);
            --shadow-color: rgba(0, 255, 136, 0.3);
        }

        body {
            background: linear-gradient(135deg, var(--bg-color), #1a1a2e, #16213e);
            color: var(--text-color);
            min-height: 100vh;
            overflow-x: hidden;
            transition: all 0.3s ease;
        }

        #matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.1;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 30px 0;
            margin-bottom: 30px;
            position: relative;
        }

        .logo {
            font-size: 3.5rem;
            font-weight: 800;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            text-shadow: 0 0 20px var(--shadow-color);
        }

        .tagline {
            font-size: 1.2rem;
            color: #aaa;
            margin-bottom: 20px;
        }

        .status-bar {
            display: flex;
            justify-content: space-between;
            background: var(--card-bg);
            padding: 15px 25px;
            border-radius: 10px;
            margin-bottom: 30px;
            border: 1px solid var(--border-color);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--primary-color);
            box-shadow: 0 0 10px var(--primary-color);
        }

        .main-panel {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        @media (max-width: 900px) {
            .main-panel {
                grid-template-columns: 1fr;
            }
            
            .status-bar {
                flex-direction: column;
                gap: 15px;
            }
            
            .logo {
                font-size: 2.5rem;
            }
        }

        .card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid var(--border-color);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .input-group {
            display: flex;
            margin-bottom: 20px;
        }

        input[type="text"] {
            flex: 1;
            padding: 15px 20px;
            border: none;
            border-radius: 8px 0 0 8px;
            background: rgba(10, 10, 20, 0.8);
            color: var(--text-color);
            font-size: 1rem;
            outline: none;
            border: 1px solid var(--border-color);
            border-right: none;
        }

        input[type="text"]:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 10px var(--shadow-color);
        }

        button {
            padding: 15px 25px;
            border: none;
            border-radius: 0 8px 8px 0;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            color: #0c0c0c;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        button:hover {
            background: linear-gradient(45deg, var(--secondary-color), var(--primary-color));
            box-shadow: 0 0 15px var(--shadow-color);
        }

        .proxy-selector {
            margin: 15px 0;
        }

        select {
            width: 100%;
            padding: 12px 15px;
            border-radius: 8px;
            background: rgba(10, 10, 20, 0.8);
            color: var(--text-color);
            border: 1px solid var(--border-color);
            outline: none;
            font-size: 1rem;
        }

        select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 10px var(--shadow-color);
        }

        .result-container {
            margin-top: 20px;
            display: none;
        }

        #resultFrame {
            width: 100%;
            height: 500px;
            border: none;
            border-radius: 8px;
            background: var(--bg-color);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }

        .text-result {
            background: rgba(10, 10, 20, 0.8);
            color: var(--text-color);
            padding: 20px;
            border-radius: 8px;
            max-height: 500px;
            overflow-y: auto;
            white-space: pre-wrap;
            border: 1px solid var(--border-color);
        }

        .status-message {
            padding: 10px 15px;
            margin: 15px 0;
            border-radius: 8px;
            text-align: center;
            font-weight: 600;
            display: none;
        }

        .status-success {
            background: rgba(0, 255, 136, 0.2);
            border: 1px solid var(--primary-color);
            color: var(--primary-color);
        }

        .status-error {
            background: rgba(255, 50, 50, 0.2);
            border: 1px solid var(--accent-color);
            color: var(--accent-color);
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .feature-card {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary-color);
            box-shadow: 0 5px 15px var(--shadow-color);
        }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: var(--primary-color);
        }

        .feature-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: var(--text-color);
        }

        .feature-desc {
            font-size: 0.9rem;
            color: #aaa;
        }

        footer {
            text-align: center;
            padding: 30px 0;
            margin-top: 40px;
            border-top: 1px solid var(--border-color);
            color: #aaa;
        }

        .disclaimer {
            background: rgba(255, 50, 50, 0.1);
            border: 1px solid rgba(255, 50, 50, 0.3);
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
            font-size: 0.9rem;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .btn-secondary {
            background: transparent;
            border: 1px solid var(--secondary-color);
            color: var(--secondary-color);
            border-radius: 8px;
        }

        .btn-secondary:hover {
            background: rgba(0, 204, 255, 0.2);
        }
        
        .loader {
            display: none;
            width: 48px;
            height: 48px;
            border: 5px solid var(--shadow-color);
            border-bottom-color: var(--primary-color);
            border-radius: 50%;
            margin: 20px auto;
            animation: rotation 1s linear infinite;
        }

        @keyframes rotation {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
        }

        .modal-content {
            background: var(--card-bg);
            margin: 5% auto;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 900px;
            max-height: 80vh;
            overflow-y: auto;
            border: 1px solid var(--border-color);
            box-shadow: 0 0 30px var(--shadow-color);
        }

        .close-modal {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s;
        }

        .close-modal:hover {
            color: var(--primary-color);
        }

        .sites-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .site-btn {
            background: rgba(10, 10, 20, 0.8);
            border: 1px solid var(--border-color);
            color: var(--text-color);
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        .site-btn:hover {
            background: var(--shadow-color);
            border-color: var(--primary-color);
            transform: translateY(-3px);
        }

        .site-icon {
            font-size: 1.5rem;
            color: var(--primary-color);
        }

        .category-title {
            color: var(--primary-color);
            margin: 25px 0 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
        }

        .settings-panel {
            position: fixed;
            top: 0;
            right: -400px;
            width: 380px;
            height: 100vh;
            background: var(--card-bg);
            border-left: 1px solid var(--border-color);
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.3);
            padding: 25px;
            overflow-y: auto;
            transition: right 0.3s ease;
            z-index: 200;
        }

        .settings-panel.open {
            right: 0;
        }

        .settings-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
        }

        .settings-title {
            color: var(--primary-color);
            font-size: 1.5rem;
        }

        .close-settings {
            color: #aaa;
            font-size: 24px;
            cursor: pointer;
            transition: color 0.3s;
        }

        .close-settings:hover {
            color: var(--primary-color);
        }

        .setting-group {
            margin-bottom: 25px;
        }

        .setting-label {
            display: block;
            margin-bottom: 10px;
            color: var(--text-color);
            font-weight: 600;
        }

        .theme-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .theme-option {
            padding: 12px;
            border-radius: 8px;
            border: 2px solid var(--border-color);
            background: rgba(10, 10, 20, 0.5);
            color: var(--text-color);
            cursor: pointer;
            text-align: center;
            transition: all 0.2s ease;
        }

        .theme-option:hover {
            border-color: var(--primary-color);
        }

        .theme-option.active {
            border-color: var(--primary-color);
            background: var(--shadow-color);
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 30px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--primary-color);
        }

        input:checked + .slider:before {
            transform: translateX(30px);
        }

        .settings-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            color: #0c0c0c;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            z-index: 99;
        }

        .settings-btn:hover {
            transform: scale(1.1) rotate(30deg);
            box-shadow: 0 0 20px var(--shadow-color);
        }

        .advanced-options {
            margin-top: 15px;
            padding: 15px;
            background: rgba(10, 10, 20, 0.5);
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }

        .advanced-title {
            color: var(--primary-color);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }

        .advanced-content {
            display: none;
            margin-top: 10px;
        }

        .advanced-content.show {
            display: block;
        }

        .option-row {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .option-label {
            flex: 1;
        }

        .connection-status {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }

        .connection-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #ff3232;
        }

        .connection-dot.connected {
            background: #00ff88;
        }

        .proxy-test-results {
            margin-top: 10px;
            max-height: 150px;
            overflow-y: auto;
            padding: 10px;
            background: rgba(10, 10, 20, 0.5);
            border-radius: 5px;
            font-size: 0.9rem;
        }

        .proxy-result {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            padding: 3px 0;
        }

        .proxy-name {
            flex: 1;
        }

        .proxy-status {
            font-weight: bold;
        }

        .proxy-status.success {
            color: #00ff88;
        }

        .proxy-status.failed {
            color: #ff3232;
        }

        .proxy-status.pending {
            color: #ffcc00;
        }

        .tab-prevention-notice {
            background: rgba(255, 204, 0, 0.2);
            border: 1px solid #ffcc00;
            border-radius: 8px;
            padding: 10px;
            margin-top: 10px;
            font-size: 0.9rem;
            color: #ffcc00;
        }

        /* Fullscreen Mode */
        .fullscreen-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-color);
            z-index: 1000;
            display: none;
            flex-direction: column;
        }

        .fullscreen-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: var(--card-bg);
            border-bottom: 1px solid var(--border-color);
        }

        .fullscreen-url {
            flex: 1;
            margin: 0 15px;
            padding: 10px 15px;
            background: rgba(10, 10, 20, 0.8);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-color);
        }

        .fullscreen-iframe {
            flex: 1;
            width: 100%;
            border: none;
        }

        .fullscreen-controls {
            display: flex;
            gap: 10px;
        }

        .fullscreen-btn {
            background: transparent;
            border: 1px solid var(--secondary-color);
            color: var(--secondary-color);
            border-radius: 8px;
            padding: 10px 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .fullscreen-btn:hover {
            background: rgba(0, 204, 255, 0.2);
        }

        .fullscreen-active .container,
        .fullscreen-active footer {
            display: none;
        }

        .fullscreen-active {
            overflow: hidden;
        }

        .proxy-info {
            background: rgba(10, 10, 20, 0.5);
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            border: 1px solid var(--border-color);
        }

        .proxy-info-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .proxy-info-label {
            color: #aaa;
        }

        .proxy-info-value {
            color: var(--primary-color);
            font-weight: 600;
        }

        /* Advanced Calculator Styles */
        .calculator {
            background: rgba(10, 10, 20, 0.8);
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            border: 1px solid var(--border-color);
        }

        .calculator-display {
            width: 100%;
            height: 60px;
            background: rgba(20, 20, 30, 0.9);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding: 0 15px;
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-color);
            overflow: hidden;
        }

        .calculator-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }

        .calc-mode-btn {
            flex: 1;
            padding: 8px;
            border-radius: 6px;
            border: 1px solid var(--border-color);
            background: rgba(30, 30, 50, 0.8);
            color: var(--text-color);
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
        }

        .calc-mode-btn.active {
            background: var(--shadow-color);
            border-color: var(--primary-color);
        }

        .calculator-buttons {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 8px;
        }

        .calc-btn {
            height: 50px;
            background: rgba(30, 30, 50, 0.8);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-color);
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .calc-btn:hover {
            background: var(--shadow-color);
            border-color: var(--primary-color);
        }

        .calc-btn.operator {
            background: rgba(0, 204, 255, 0.3);
            color: var(--secondary-color);
        }

        .calc-btn.function {
            background: rgba(255, 153, 0, 0.3);
            color: #ff9933;
        }

        .calc-btn.equals {
            background: rgba(0, 255, 136, 0.3);
            color: var(--primary-color);
        }

        .calc-btn.clear {
            background: rgba(255, 50, 50, 0.3);
            color: var(--accent-color);
        }

        .calc-btn.constant {
            background: rgba(153, 102, 255, 0.3);
            color: #9966ff;
        }

        /* AI Assistant Styles */
        .ai-assistant {
            margin-top: 15px;
        }

        .ai-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .ai-provider-select {
            padding: 8px 12px;
            border-radius: 6px;
            background: rgba(10, 10, 20, 0.8);
            color: var(--text-color);
            border: 1px solid var(--border-color);
            outline: none;
        }

        .ai-chat-container {
            height: 300px;
            background: rgba(10, 10, 20, 0.8);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            margin-bottom: 15px;
            padding: 15px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .ai-message {
            max-width: 80%;
            padding: 10px 15px;
            border-radius: 15px;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .ai-message.user {
            align-self: flex-end;
            background: rgba(0, 204, 255, 0.3);
            border-bottom-right-radius: 5px;
        }

        .ai-message.assistant {
            align-self: flex-start;
            background: rgba(20, 20, 40, 0.8);
            border: 1px solid var(--border-color);
            border-bottom-left-radius: 5px;
        }

        .ai-input-group {
            display: flex;
            gap: 10px;
        }

        .ai-input {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background: rgba(10, 10, 20, 0.8);
            color: var(--text-color);
            font-size: 0.9rem;
        }

        .ai-input:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 10px var(--shadow-color);
        }

        .ai-send-btn {
            padding: 12px 20px;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            color: #0c0c0c;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .ai-send-btn:hover {
            background: linear-gradient(45deg, var(--secondary-color), var(--primary-color));
            box-shadow: 0 0 10px var(--shadow-color);
        }

        .ai-send-btn:disabled {
            background: #666;
            cursor: not-allowed;
            box-shadow: none;
        }

        /* Custom Theme Creator */
        .color-picker-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 10px;
        }

        .color-picker {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .color-label {
            flex: 1;
            font-size: 0.9rem;
        }

        .color-input {
            width: 60px;
            height: 30px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            cursor: pointer;
        }

        .theme-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .theme-action-btn {
            flex: 1;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            background: rgba(10, 10, 20, 0.5);
            color: var(--text-color);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .theme-action-btn:hover {
            background: var(--shadow-color);
            border-color: var(--primary-color);
        }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .api-key-input {
            width: 100%;
            padding: 10px;
            border-radius: 6px;
            border: 1px solid var(--border-color);
            background: rgba(10, 10, 20, 0.8);
            color: var(--text-color);
            margin-bottom: 10px;
        }

        .calc-history {
            margin-top: 10px;
            max-height: 100px;
            overflow-y: auto;
            padding: 8px;
            background: rgba(10, 10, 20, 0.5);
            border-radius: 6px;
            font-size: 0.8rem;
        }

        .history-item {
            padding: 4px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
        }

        .history-item:last-child {
            border-bottom: none;
        }

        .history-item:hover {
            color: var(--primary-color);
        }

        /* Enhanced Quick Access Buttons */
        .quick-access-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }

        /* Proxy Statistics */
        .proxy-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }

        .stat-card {
            background: rgba(10, 10, 20, 0.5);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            border: 1px solid var(--border-color);
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--primary-color);
        }

        .stat-label {
            font-size: 0.9rem;
            color: #aaa;
            margin-top: 5px;
        }

        /* Enhanced Security Status */
        .security-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }

        .security-item {
            background: rgba(0, 255, 136, 0.1);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .security-value {
            font-size: 2rem;
            color: var(--primary-color);
        }

        .security-label {
            font-size: 0.9rem;
            color: #aaa;
        }
    </style>
</head>
<body>
    <canvas id="matrix-bg"></canvas>
    
    <div class="container">
        <header>
            <div class="logo">UNBLOCKER PRO</div>
            <p class="tagline">Access the unrestricted web with advanced proxy technology</p>
            
            <div class="status-bar">
                <div class="status-item">
                    <div class="status-indicator"></div>
                    <span>System: ONLINE</span>
                </div>
                <div class="status-item">
                    <i class="fas fa-shield-alt"></i>
                    <span>Encryption: ACTIVE</span>
                </div>
                <div class="status-item">
                    <i class="fas fa-bolt"></i>
                    <span>Speed: OPTIMAL</span>
                </div>
                <div class="status-item">
                    <i class="fas fa-user-secret"></i>
                    <span>Anonymity: HIGH</span>
                </div>
            </div>
        </header>

        <div class="main-panel">
            <div class="card">
                <h2 class="card-title"><i class="fas fa-globe"></i> Web Unblocker</h2>
                <p>Access any website through our secure proxy network</p>
                
                <div class="input-group">
                    <input type="text" id="urlInput" placeholder="Enter website URL (e.g., https://example.com)">
                    <button id="browseBtn">Unblock</button>
                </div>
                
                <div class="proxy-selector">
                    <select id="proxySelector">
                        <option value="auto">Auto-Select (Recommended)</option>
                        <option value="ultra">Ultra Bypass</option>
                        <option value="stealth">Stealth Mode</option>
                        <option value="corsproxy">CORS Proxy</option>
                        <option value="allorigins">AllOrigins</option>
                        <option value="corsanywhere">Cors Anywhere</option>
                        <option value="heroku">Heroku CORS</option>
                        <option value="crossorigin">CrossOrigin</option>
                        <option value="proxy">Proxy Server</option>
                    </select>
                </div>

                <div class="advanced-options">
                    <div class="advanced-title" id="advancedToggle">
                        <i class="fas fa-cogs"></i> Advanced Options
                        <i class="fas fa-chevron-down" style="margin-left: auto;"></i>
                    </div>
                    <div class="advanced-content" id="advancedContent">
                        <div class="option-row">
                            <span class="option-label">User-Agent Spoofing:</span>
                            <label class="toggle-switch">
                                <input type="checkbox" id="userAgentToggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="option-row">
                            <span class="option-label">Force HTTPS:</span>
                            <label class="toggle-switch">
                                <input type="checkbox" id="httpsToggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="option-row">
                            <span class="option-label">Block New Tabs:</span>
                            <label class="toggle-switch">
                                <input type="checkbox" id="blockTabsToggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="option-row">
                            <span class="option-label">Auto-Retry Failed Connections:</span>
                            <label class="toggle-switch">
                                <input type="checkbox" id="autoRetryToggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="option-row">
                            <span class="option-label">Enable JavaScript:</span>
                            <label class="toggle-switch">
                                <input type="checkbox" id="javascriptToggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="option-row">
                            <span class="option-label">Load Images:</span>
                            <label class="toggle-switch">
                                <input type="checkbox" id="imagesToggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="option-row">
                            <span class="option-label">Enable Cookies:</span>
                            <label class="toggle-switch">
                                <input type="checkbox" id="cookiesToggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <div class="quick-access-buttons">
                    <button class="btn-secondary" data-url="https://www.tiktok.com">TikTok</button>
                    <button class="btn-secondary" data-url="https://9anime.to">9anime</button>
                    <button class="btn-secondary" data-url="https://www.youtube.com">YouTube</button>
                    <button class="btn-secondary" data-url="https://www.reddit.com">Reddit</button>
                    <button class="btn-secondary" data-url="https://www.netflix.com">Netflix</button>
                </div>
                
                <div class="btn-group">
                    <button class="btn-secondary" id="textModeBtn">
                        <i class="fas fa-file-alt"></i> Text Mode
                    </button>
                    <button class="btn-secondary" id="popularSitesBtn">
                        <i class="fas fa-star"></i> Popular Sites
                    </button>
                    <button class="btn-secondary" id="testProxiesBtn">
                        <i class="fas fa-vial"></i> Test Proxies
                    </button>
                    <button class="btn-secondary" id="fullscreenBtn">
                        <i class="fas fa-expand"></i> Fullscreen
                    </button>
                </div>
                
                <div class="tab-prevention-notice">
                    <i class="fas fa-shield-alt"></i> New tab prevention is active. All links will open in the same window.
                </div>
                
                <div class="loader" id="loader"></div>
                <div class="status-message" id="statusMessage"></div>
                
                <div class="result-container" id="browseResult">
                    <iframe id="resultFrame" sandbox="allow-scripts allow-same-origin allow-forms allow-popups"></iframe>
                </div>
            </div>
            
            <div class="card">
                <h2 class="card-title"><i class="fas fa-tachometer-alt"></i> Dashboard</h2>
                
                <div class="proxy-selector">
                    <label>Connection Method:</label>
                    <select id="methodSelector">
                        <option value="ultra">Ultra Bypass (Recommended)</option>
                        <option value="stealth">Stealth Mode</option>
                        <option value="iframe">iFrame Rendering</option>
                        <option value="fetch">Direct Fetch</option>
                    </select>
                </div>
                
                <div class="proxy-stats">
                    <div class="stat-card">
                        <div class="stat-value" id="proxySuccessRate">98%</div>
                        <div class="stat-label">Success Rate</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="avgResponseTime">247ms</div>
                        <div class="stat-label">Avg Response</div>
                    </div>
                </div>
                
                <div class="connection-status">
                    <div class="connection-dot" id="connectionDot"></div>
                    <span id="connectionStatus">Testing connection...</span>
                </div>
                
                <div id="proxyTestResults" class="proxy-test-results" style="display: none;">
                    <!-- Proxy test results will appear here -->
                </div>

                <div class="proxy-info">
                    <h3 style="margin-bottom: 15px; color: var(--secondary-color);">Current Session</h3>
                    <div class="proxy-info-row">
                        <span class="proxy-info-label">Active Proxy:</span>
                        <span class="proxy-info-value" id="activeProxyValue">None</span>
                    </div>
                    <div class="proxy-info-row">
                        <span class="proxy-info-label">Connection Method:</span>
                        <span class="proxy-info-value" id="activeMethodValue">None</span>
                    </div>
                    <div class="proxy-info-row">
                        <span class="proxy-info-label">Bytes Transferred:</span>
                        <span class="proxy-info-value" id="bytesTransferred">0 KB</span>
                    </div>
                    <div class="proxy-info-row">
                        <span class="proxy-info-label">Sites Visited:</span>
                        <span class="proxy-info-value" id="sitesVisited">0</span>
                    </div>
                </div>
                
                <div>
                    <h3 style="margin-bottom: 15px; color: var(--secondary-color);">Security Status</h3>
                    <div class="security-grid">
                        <div class="security-item">
                            <div class="security-value">AES-256</div>
                            <div class="security-label">Encryption</div>
                        </div>
                        <div class="security-item">
                            <div class="security-value">99.9%</div>
                            <div class="security-label">Success Rate</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- New Tools Section with Advanced Calculator and AI Assistant -->
        <h2 style="text-align: center; margin: 40px 0 20px; color: var(--primary-color);">Advanced Tools</h2>
        <div class="tools-grid">
            <div class="card">
                <h2 class="card-title"><i class="fas fa-calculator"></i> Advanced Calculator</h2>
                <p>Perform complex calculations with scientific functions</p>
                
                <div class="calculator">
                    <div class="calculator-display" id="calcDisplay">0</div>
                    
                    <div class="calculator-controls">
                        <div class="calc-mode-btn active" data-mode="basic">Basic</div>
                        <div class="calc-mode-btn" data-mode="scientific">Scientific</div>
                        <div class="calc-mode-btn" data-mode="programmer">Programmer</div>
                    </div>
                    
                    <div class="calculator-buttons" id="basicButtons">
                        <div class="calc-btn clear" data-action="clear">C</div>
                        <div class="calc-btn clear" data-action="clear-entry">CE</div>
                        <div class="calc-btn operator" data-action="backspace">⌫</div>
                        <div class="calc-btn operator" data-action="divide">/</div>
                        
                        <div class="calc-btn" data-number="7">7</div>
                        <div class="calc-btn" data-number="8">8</div>
                        <div class="calc-btn" data-number="9">9</div>
                        <div class="calc-btn operator" data-action="multiply">×</div>
                        
                        <div class="calc-btn" data-number="4">4</div>
                        <div class="calc-btn" data-number="5">5</div>
                        <div class="calc-btn" data-number="6">6</div>
                        <div class="calc-btn operator" data-action="subtract">-</div>
                        
                        <div class="calc-btn" data-number="1">1</div>
                        <div class="calc-btn" data-number="2">2</div>
                        <div class="calc-btn" data-number="3">3</div>
                        <div class="calc-btn operator" data-action="add">+</div>
                        
                        <div class="calc-btn" data-number="0">0</div>
                        <div class="calc-btn" data-action="decimal">.</div>
                        <div class="calc-btn operator" data-action="percent">%</div>
                        <div class="calc-btn equals" data-action="calculate">=</div>
                    </div>
                    
                    <div class="calculator-buttons" id="scientificButtons" style="display: none;">
                        <div class="calc-btn function" data-action="sin">sin</div>
                        <div class="calc-btn function" data-action="cos">cos</div>
                        <div class="calc-btn function" data-action="tan">tan</div>
                        <div class="calc-btn function" data-action="log">log</div>
                        <div class="calc-btn function" data-action="ln">ln</div>
                        
                        <div class="calc-btn function" data-action="asin">asin</div>
                        <div class="calc-btn function" data-action="acos">acos</div>
                        <div class="calc-btn function" data-action="atan">atan</div>
                        <div class="calc-btn function" data-action="sqrt">√</div>
                        <div class="calc-btn function" data-action="power">x^y</div>
                        
                        <div class="calc-btn function" data-action="factorial">x!</div>
                        <div class="calc-btn constant" data-action="pi">π</div>
                        <div class="calc-btn constant" data-action="e">e</div>
                        <div class="calc-btn operator" data-action="open-paren">(</div>
                        <div class="calc-btn operator" data-action="close-paren">)</div>
                        
                        <div class="calc-btn clear" data-action="clear">C</div>
                        <div class="calc-btn clear" data-action="clear-entry">CE</div>
                        <div class="calc-btn operator" data-action="backspace">⌫</div>
                        <div class="calc-btn operator" data-action="divide">/</div>
                        <div class="calc-btn equals" data-action="calculate">=</div>
                    </div>
                    
                    <div class="calculator-buttons" id="programmerButtons" style="display: none;">
                        <div class="calc-btn" data-action="binary">BIN</div>
                        <div class="calc-btn" data-action="octal">OCT</div>
                        <div class="calc-btn" data-action="decimal">DEC</div>
                        <div class="calc-btn" data-action="hexadecimal">HEX</div>
                        <div class="calc-btn clear" data-action="clear">C</div>
                        
                        <div class="calc-btn" data-action="and">AND</div>
                        <div class="calc-btn" data-action="or">OR</div>
                        <div class="calc-btn" data-action="xor">XOR</div>
                        <div class="calc-btn" data-action="not">NOT</div>
                        <div class="calc-btn" data-action="shift-left"><<</div>
                        
                        <div class="calc-btn" data-number="1">1</div>
                        <div class="calc-btn" data-number="2">2</div>
                        <div class="calc-btn" data-number="3">3</div>
                        <div class="calc-btn operator" data-action="add">+</div>
                        <div class="calc-btn" data-action="shift-right">>></div>
                        
                        <div class="calc-btn" data-number="4">4</div>
                        <div class="calc-btn" data-number="5">5</div>
                        <div class="calc-btn" data-number="6">6</div>
                        <div class="calc-btn operator" data-action="subtract">-</div>
                        <div class="calc-btn" data-action="modulo">MOD</div>
                        
                        <div class="calc-btn" data-number="7">7</div>
                        <div class="calc-btn" data-number="8">8</div>
                        <div class="calc-btn" data-number="9">9</div>
                        <div class="calc-btn operator" data-action="multiply">×</div>
                        <div class="calc-btn equals" data-action="calculate">=</div>
                        
                        <div class="calc-btn" data-action="a">A</div>
                        <div class="calc-btn" data-action="b">B</div>
                        <div class="calc-btn" data-action="c">C</div>
                        <div class="calc-btn" data-action="d">D</div>
                        <div class="calc-btn" data-action="e">E</div>
                        
                        <div class="calc-btn" data-action="f">F</div>
                        <div class="calc-btn" data-number="0">0</div>
                        <div class="calc-btn clear" data-action="clear-entry">CE</div>
                        <div class="calc-btn operator" data-action="divide">/</div>
                        <div class="calc-btn operator" data-action="backspace">⌫</div>
                    </div>
                    
                    <div class="calc-history" id="calcHistory">
                        <!-- Calculation history will appear here -->
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h2 class="card-title"><i class="fas fa-robot"></i> AI Assistant</h2>
                <p>Get help with questions using AI technology</p>
                
                <div class="ai-assistant">
                    <div class="ai-header">
                        <select class="ai-provider-select" id="aiProvider">
                            <option value="deepseek">DeepSeek AI</option>
                            <option value="simulated">Simulated AI</option>
                        </select>
                        <input type="text" class="api-key-input" id="apiKeyInput" placeholder="Enter API Key (for DeepSeek)">
                    </div>
                    
                    <div class="ai-chat-container" id="aiChatContainer">
                        <div class="ai-message assistant">
                            Hello! I'm your AI assistant. How can I help you today?
                        </div>
                    </div>
                    
                    <div class="ai-input-group">
                        <input type="text" class="ai-input" id="aiInput" placeholder="Ask me anything...">
                        <button class="ai-send-btn" id="aiSendBtn">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <h2 style="text-align: center; margin: 40px 0 20px; color: var(--primary-color);">Why Choose Unblocker Pro?</h2>
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-lock"></i>
                </div>
                <h3 class="feature-title">Military-Grade Encryption</h3>
                <p class="feature-desc">All traffic is encrypted with AES-256 to protect your privacy</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-bolt"></i>
                </div>
                <h3 class="feature-title">Lightning Fast</h3>
                <p class="feature-desc">Optimized proxy servers ensure minimal speed impact</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-user-shield"></i>
                </div>
                <h3 class="feature-title">Complete Anonymity</h3>
                <p class="feature-desc">Your identity and location remain hidden from websites</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-infinity"></i>
                </div>
                <h3 class="feature-title">No Restrictions</h3>
                <p class="feature-desc">Bypass firewalls, filters, and geographic restrictions</p>
            </div>
        </div>

        <footer>
            <p>Unblocker Pro &copy; 2023 | Advanced Web Proxy Service</p>
            <div class="disclaimer">
                <strong>Disclaimer:</strong> This tool is for educational and research purposes only. Use responsibly and in compliance with local laws and regulations.
            </div>
        </footer>
    </div>

    <!-- Fullscreen Mode -->
    <div class="fullscreen-container" id="fullscreenContainer">
        <div class="fullscreen-header">
            <button class="fullscreen-btn" id="exitFullscreenBtn">
                <i class="fas fa-compress"></i> Exit Fullscreen
            </button>
            <input type="text" class="fullscreen-url" id="fullscreenUrl" readonly>
            <div class="fullscreen-controls">
                <button class="fullscreen-btn" id="fullscreenBackBtn">
                    <i class="fas fa-arrow-left"></i> Back
                </button>
                <button class="fullscreen-btn" id="fullscreenForwardBtn">
                    <i class="fas fa-arrow-right"></i> Forward
                </button>
                <button class="fullscreen-btn" id="fullscreenReloadBtn">
                    <i class="fas fa-redo"></i> Reload
                </button>
            </div>
        </div>
        <iframe class="fullscreen-iframe" id="fullscreenFrame" sandbox="allow-scripts allow-same-origin allow-forms allow-popups"></iframe>
    </div>

    <!-- Popular Sites Modal -->
    <div id="popularSitesModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2 style="color: var(--primary-color); margin-bottom: 20px;">Popular Sites</h2>
            <p>Select a website to quickly access it through the proxy:</p>
            
            <h3 class="category-title">Search Engines</h3>
            <div class="sites-grid">
                <div class="site-btn" data-url="https://www.google.com">
                    <i class="fab fa-google site-icon"></i>
                    <span>Google</span>
                </div>
                <div class="site-btn" data-url="https://www.bing.com">
                    <i class="fab fa-microsoft site-icon"></i>
                    <span>Bing</span>
                </div>
                <div class="site-btn" data-url="https://duckduckgo.com">
                    <i class="fas fa-search site-icon"></i>
                    <span>DuckDuckGo</span>
                </div>
                <div class="site-btn" data-url="https://www.yahoo.com">
                    <i class="fab fa-yahoo site-icon"></i>
                    <span>Yahoo</span>
                </div>
            </div>
            
            <h3 class="category-title">Social Media</h3>
            <div class="sites-grid">
                <div class="site-btn" data-url="https://www.facebook.com">
                    <i class="fab fa-facebook site-icon"></i>
                    <span>Facebook</span>
                </div>
                <div class="site-btn" data-url="https://www.twitter.com">
                    <i class="fab fa-twitter site-icon"></i>
                    <span>Twitter</span>
                </div>
                <div class="site-btn" data-url="https://www.instagram.com">
                    <i class="fab fa-instagram site-icon"></i>
                    <span>Instagram</span>
                </div>
                <div class="site-btn" data-url="https://www.reddit.com">
                    <i class="fab fa-reddit site-icon"></i>
                    <span>Reddit</span>
                </div>
                <div class="site-btn" data-url="https://www.linkedin.com">
                    <i class="fab fa-linkedin site-icon"></i>
                    <span>LinkedIn</span>
                </div>
                <div class="site-btn" data-url="https://www.pinterest.com">
                    <i class="fab fa-pinterest site-icon"></i>
                    <span>Pinterest</span>
                </div>
                <div class="site-btn" data-url="https://www.tiktok.com">
                    <i class="fab fa-tiktok site-icon"></i>
                    <span>TikTok</span>
                </div>
                <div class="site-btn" data-url="https://www.tumblr.com">
                    <i class="fab fa-tumblr site-icon"></i>
                    <span>Tumblr</span>
                </div>
            </div>
            
            <h3 class="category-title">Entertainment</h3>
            <div class="sites-grid">
                <div class="site-btn" data-url="https://www.youtube.com">
                    <i class="fab fa-youtube site-icon"></i>
                    <span>YouTube</span>
                </div>
                <div class="site-btn" data-url="https://www.netflix.com">
                    <i class="fas fa-tv site-icon"></i>
                    <span>Netflix</span>
                </div>
                <div class="site-btn" data-url="https://www.hulu.com">
                    <i class="fas fa-film site-icon"></i>
                    <span>Hulu</span>
                </div>
                <div class="site-btn" data-url="https://www.spotify.com">
                    <i class="fab fa-spotify site-icon"></i>
                    <span>Spotify</span>
                </div>
                <div class="site-btn" data-url="https://www.twitch.tv">
                    <i class="fab fa-twitch site-icon"></i>
                    <span>Twitch</span>
                </div>
                <div class="site-btn" data-url="https://www.disneyplus.com">
                    <i class="fas fa-magic site-icon"></i>
                    <span>Disney+</span>
                </div>
            </div>
            
            <h3 class="category-title">News & Information</h3>
            <div class="sites-grid">
                <div class="site-btn" data-url="https://www.wikipedia.org">
                    <i class="fab fa-wikipedia-w site-icon"></i>
                    <span>Wikipedia</span>
                </div>
                <div class="site-btn" data-url="https://www.bbc.com">
                    <i class="fas fa-globe-europe site-icon"></i>
                    <span>BBC News</span>
                </div>
                <div class="site-btn" data-url="https://www.cnn.com">
                    <i class="fas fa-newspaper site-icon"></i>
                    <span>CNN</span>
                </div>
                <div class="site-btn" data-url="https://www.nytimes.com">
                    <i class="fas fa-newspaper site-icon"></i>
                    <span>New York Times</span>
                </div>
                <div class="site-btn" data-url="https://www.theguardian.com">
                    <i class="fas fa-shield-alt site-icon"></i>
                    <span>The Guardian</span>
                </div>
                <div class="site-btn" data-url="https://www.reuters.com">
                    <i class="fas fa-globe site-icon"></i>
                    <span>Reuters</span>
                </div>
            </div>
            
            <h3 class="category-title">Technology</h3>
            <div class="sites-grid">
                <div class="site-btn" data-url="https://www.github.com">
                    <i class="fab fa-github site-icon"></i>
                    <span>GitHub</span>
                </div>
                <div class="site-btn" data-url="https://stackoverflow.com">
                    <i class="fab fa-stack-overflow site-icon"></i>
                    <span>Stack Overflow</span>
                </div>
                <div class="site-btn" data-url="https://www.microsoft.com">
                    <i class="fab fa-microsoft site-icon"></i>
                    <span>Microsoft</span>
                </div>
                <div class="site-btn" data-url="https://www.apple.com">
                    <i class="fab fa-apple site-icon"></i>
                    <span>Apple</span>
                </div>
                <div class="site-btn" data-url="https://www.android.com">
                    <i class="fab fa-android site-icon"></i>
                    <span>Android</span>
                </div>
                <div class="site-btn" data-url="https://www.mozilla.org">
                    <i class="fab fa-firefox site-icon"></i>
                    <span>Mozilla</span>
                </div>
            </div>
            
            <h3 class="category-title">Shopping</h3>
            <div class="sites-grid">
                <div class="site-btn" data-url="https://www.amazon.com">
                    <i class="fab fa-amazon site-icon"></i>
                    <span>Amazon</span>
                </div>
                <div class="site-btn" data-url="https://www.ebay.com">
                    <i class="fab fa-ebay site-icon"></i>
                    <span>eBay</span>
                </div>
                <div class="site-btn" data-url="https://www.walmart.com">
                    <i class="fas fa-shopping-cart site-icon"></i>
                    <span>Walmart</span>
                </div>
                <div class="site-btn" data-url="https://www.aliexpress.com">
                    <i class="fas fa-shipping-fast site-icon"></i>
                    <span>AliExpress</span>
                </div>
            </div>
            
            <h3 class="category-title">Anime Streaming</h3>
            <div class="sites-grid">
                <div class="site-btn" data-url="https://www.crunchyroll.com">
                    <i class="fas fa-play-circle site-icon"></i>
                    <span>Crunchyroll</span>
                </div>
                <div class="site-btn" data-url="https://www.funimation.com">
                    <i class="fas fa-tv site-icon"></i>
                    <span>Funimation</span>
                </div>
                <div class="site-btn" data-url="https://www.netflix.com/jp/">
                    <i class="fas fa-film site-icon"></i>
                    <span>Netflix Japan</span>
                </div>
                <div class="site-btn" data-url="https://www.hulu.com/hub/anime">
                    <i class="fas fa-play site-icon"></i>
                    <span>Hulu Anime</span>
                </div>
                <div class="site-btn" data-url="https://9anime.to">
                    <i class="fas fa-dragon site-icon"></i>
                    <span>9anime</span>
                </div>
                <div class="site-btn" data-url="https://gogoanime.hu">
                    <i class="fas fa-video site-icon"></i>
                    <span>Gogoanime</span>
                </div>
                <div class="site-btn" data-url="https://animedao.to">
                    <i class="fas fa-cloud site-icon"></i>
                    <span>AnimeDao</span>
                </div>
                <div class="site-btn" data-url="https://animeheaven.ru">
                    <i class="fas fa-heart site-icon"></i>
                    <span>AnimeHeaven</span>
                </div>
            </div>
            
            <h3 class="category-title">Manga Reading</h3>
            <div class="sites-grid">
                <div class="site-btn" data-url="https://mangadex.org">
                    <i class="fas fa-book site-icon"></i>
                    <span>MangaDex</span>
                </div>
                <div class="site-btn" data-url="https://mangakakalot.com">
                    <i class="fas fa-book-open site-icon"></i>
                    <span>Mangakakalot</span>
                </div>
                <div class="site-btn" data-url="https://mangafox.online">
                    <i class="fas fa-fox site-icon"></i>
                    <span>MangaFox</span>
                </div>
                <div class="site-btn" data-url="https://mangahere.cc">
                    <i class="fas fa-globe site-icon"></i>
                    <span>MangaHere</span>
                </div>
                <div class="site-btn" data-url="https://www.viz.com">
                    <i class="fas fa-building site-icon"></i>
                    <span>VIZ Media</span>
                </div>
                <div class="site-btn" data-url="https://comic-walker.com">
                    <i class="fas fa-walking site-icon"></i>
                    <span>Comic Walker</span>
                </div>
                <div class="site-btn" data-url="https://mangareader.to">
                    <i class="fas fa-eye site-icon"></i>
                    <span>MangaReader</span>
                </div>
                <div class="site-btn" data-url="https://bato.to">
                    <i class="fas fa-hat-cowboy site-icon"></i>
                    <span>Bato.to</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Panel -->
    <div class="settings-panel" id="settingsPanel">
        <div class="settings-header">
            <h2 class="settings-title">Settings</h2>
            <span class="close-settings">&times;</span>
        </div>
        
        <div class="setting-group">
            <label class="setting-label">Default Proxy</label>
            <select id="defaultProxy">
                <option value="auto">Auto-Select (Recommended)</option>
                <option value="ultra">Ultra Bypass</option>
                <option value="stealth">Stealth Mode</option>
                <option value="corsproxy">CORS Proxy</option>
                <option value="allorigins">AllOrigins</option>
                <option value="corsanywhere">Cors Anywhere</option>
                <option value="heroku">Heroku CORS</option>
                <option value="crossorigin">CrossOrigin</option>
                <option value="proxy">Proxy Server</option>
            </select>
        </div>
        
        <div class="setting-group">
            <label class="setting-label">Default Connection Method</label>
            <select id="defaultMethod">
                <option value="ultra">Ultra Bypass (Recommended)</option>
                <option value="stealth">Stealth Mode</option>
                <option value="iframe">iFrame Rendering</option>
                <option value="fetch">Direct Fetch</option>
            </select>
        </div>
        
        <div class="setting-group">
            <label class="setting-label">Auto-hide Status Messages</label>
            <div style="display: flex; align-items: center; gap: 15px;">
                <label class="toggle-switch">
                    <input type="checkbox" id="autoHideToggle" checked>
                    <span class="slider"></span>
                </label>
                <span id="autoHideStatus">Enabled</span>
            </div>
        </div>

        <div class="setting-group">
            <label class="setting-label">Enable Fullscreen Mode</label>
            <div style="display: flex; align-items: center; gap: 15px;">
                <label class="toggle-switch">
                    <input type="checkbox" id="fullscreenModeToggle" checked>
                    <span class="slider"></span>
                </label>
                <span id="fullscreenModeStatus">Enabled</span>
            </div>
        </div>

        <div class="setting-group">
            <label class="setting-label">Session Statistics</label>
            <div style="display: flex; align-items: center; gap: 15px;">
                <label class="toggle-switch">
                    <input type="checkbox" id="sessionStatsToggle" checked>
                    <span class="slider"></span>
                </label>
                <span id="sessionStatsStatus">Enabled</span>
            </div>
        </div>
        
        <!-- Enhanced Theme Options -->
        <div class="setting-group">
            <label class="setting-label">Theme Selection</label>
            <div class="theme-options">
                <div class="theme-option active" data-theme="default">Default</div>
                <div class="theme-option" data-theme="dark">Dark</div>
                <div class="theme-option" data-theme="blue">Blue</div>
                <div class="theme-option" data-theme="purple">Purple</div>
                <div class="theme-option" data-theme="red">Red</div>
                <div class="theme-option" data-theme="green">Green</div>
            </div>
        </div>
        
        <div class="setting-group">
            <label class="setting-label">Custom Theme Creator</label>
            <div class="color-picker-group">
                <div class="color-picker">
                    <span class="color-label">Primary Color</span>
                    <input type="color" class="color-input" id="primaryColor" value="#00ff88">
                </div>
                <div class="color-picker">
                    <span class="color-label">Secondary Color</span>
                    <input type="color" class="color-input" id="secondaryColor" value="#00ccff">
                </div>
                <div class="color-picker">
                    <span class="color-label">Background</span>
                    <input type="color" class="color-input" id="bgColor" value="#0c0c0c">
                </div>
                <div class="color-picker">
                    <span class="color-label">Card Background</span>
                    <input type="color" class="color-input" id="cardBgColor" value="#141428">
                </div>
                <div class="color-picker">
                    <span class="color-label">Text Color</span>
                    <input type="color" class="color-input" id="textColor" value="#e0e0e0">
                </div>
                <div class="color-picker">
                    <span class="color-label">Accent Color</span>
                    <input type="color" class="color-input" id="accentColor" value="#ff3232">
                </div>
                <div class="color-picker">
                    <span class="color-label">Border Color</span>
                    <input type="color" class="color-input" id="borderColor" value="#00ff88">
                </div>
                <div class="color-picker">
                    <span class="color-label">Shadow Color</span>
                    <input type="color" class="color-input" id="shadowColor" value="#00ff88">
                </div>
            </div>
            <div class="theme-actions">
                <button class="theme-action-btn" id="applyThemeBtn">Apply Theme</button>
                <button class="theme-action-btn" id="resetThemeBtn">Reset to Default</button>
                <button class="theme-action-btn" id="saveThemeBtn">Save Theme</button>
            </div>
        </div>
        
        <div class="setting-group">
            <label class="setting-label">Clear Browsing Data</label>
            <button class="btn-secondary" id="clearDataBtn" style="width: 100%;">
                <i class="fas fa-trash-alt"></i> Clear All Data
            </button>
        </div>
        
        <div class="setting-group">
            <label class="setting-label">Reset to Defaults</label>
            <button class="btn-secondary" id="resetSettingsBtn" style="width: 100%;">
                <i class="fas fa-undo"></i> Reset Settings
            </button>
        </div>
    </div>

    <!-- Settings Button -->
    <div class="settings-btn" id="settingsBtn">
        <i class="fas fa-cog"></i>
    </div>

    <script>
        // Matrix background effect
        const canvas = document.getElementById('matrix-bg');
        const ctx = canvas.getContext('2d');
        
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        
        const chars = "01010101010101010101010101010101";
        const charArray = chars.split("");
        
        const fontSize = 14;
        const columns = canvas.width / fontSize;
        
        const drops = [];
        for (let i = 0; i < columns; i++) {
            drops[i] = Math.floor(Math.random() * canvas.height / fontSize);
        }
        
        let matrixInterval;
        
        function drawMatrix() {
            ctx.fillStyle = "rgba(10, 10, 20, 0.04)";
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            ctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--primary-color');
            ctx.font = fontSize + "px monospace";
            
            for (let i = 0; i < drops.length; i++) {
                const text = charArray[Math.floor(Math.random() * charArray.length)];
                ctx.fillText(text, i * fontSize, drops[i] * fontSize);
                
                if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                    drops[i] = 0;
                }
                
                drops[i]++;
            }
        }
        
        function startMatrix() {
            matrixInterval = setInterval(drawMatrix, 35);
        }
        
        function stopMatrix() {
            clearInterval(matrixInterval);
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }
        
        startMatrix();
        
        // Unblocker functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Elements
            const urlInput = document.getElementById('urlInput');
            const browseBtn = document.getElementById('browseBtn');
            const resultFrame = document.getElementById('resultFrame');
            const browseResult = document.getElementById('browseResult');
            const statusMessage = document.getElementById('statusMessage');
            const proxySelector = document.getElementById('proxySelector');
            const methodSelector = document.getElementById('methodSelector');
            const textModeBtn = document.getElementById('textModeBtn');
            const popularSitesBtn = document.getElementById('popularSitesBtn');
            const testProxiesBtn = document.getElementById('testProxiesBtn');
            const fullscreenBtn = document.getElementById('fullscreenBtn');
            const quickAccessBtns = document.querySelectorAll('.btn-secondary[data-url]');
            const loader = document.getElementById('loader');
            const modal = document.getElementById('popularSitesModal');
            const closeModal = document.querySelector('.close-modal');
            const siteBtns = document.querySelectorAll('.site-btn');
            const advancedToggle = document.getElementById('advancedToggle');
            const advancedContent = document.getElementById('advancedContent');
            const connectionDot = document.getElementById('connectionDot');
            const connectionStatus = document.getElementById('connectionStatus');
            const proxyTestResults = document.getElementById('proxyTestResults');
            const activeProxyValue = document.getElementById('activeProxyValue');
            const activeMethodValue = document.getElementById('activeMethodValue');
            const bytesTransferred = document.getElementById('bytesTransferred');
            const sitesVisited = document.getElementById('sitesVisited');
            const proxySuccessRate = document.getElementById('proxySuccessRate');
            const avgResponseTime = document.getElementById('avgResponseTime');
            
            // Fullscreen elements
            const fullscreenContainer = document.getElementById('fullscreenContainer');
            const fullscreenFrame = document.getElementById('fullscreenFrame');
            const fullscreenUrl = document.getElementById('fullscreenUrl');
            const exitFullscreenBtn = document.getElementById('exitFullscreenBtn');
            const fullscreenBackBtn = document.getElementById('fullscreenBackBtn');
            const fullscreenForwardBtn = document.getElementById('fullscreenForwardBtn');
            const fullscreenReloadBtn = document.getElementById('fullscreenReloadBtn');
            
            // Settings elements
            const settingsBtn = document.getElementById('settingsBtn');
            const settingsPanel = document.getElementById('settingsPanel');
            const closeSettings = document.querySelector('.close-settings');
            const defaultProxy = document.getElementById('defaultProxy');
            const defaultMethod = document.getElementById('defaultMethod');
            const autoHideToggle = document.getElementById('autoHideToggle');
            const autoHideStatus = document.getElementById('autoHideStatus');
            const fullscreenModeToggle = document.getElementById('fullscreenModeToggle');
            const fullscreenModeStatus = document.getElementById('fullscreenModeStatus');
            const sessionStatsToggle = document.getElementById('sessionStatsToggle');
            const sessionStatsStatus = document.getElementById('sessionStatsStatus');
            const clearDataBtn = document.getElementById('clearDataBtn');
            const resetSettingsBtn = document.getElementById('resetSettingsBtn');
            
            // Advanced options
            const userAgentToggle = document.getElementById('userAgentToggle');
            const httpsToggle = document.getElementById('httpsToggle');
            const blockTabsToggle = document.getElementById('blockTabsToggle');
            const autoRetryToggle = document.getElementById('autoRetryToggle');
            const javascriptToggle = document.getElementById('javascriptToggle');
            const imagesToggle = document.getElementById('imagesToggle');
            const cookiesToggle = document.getElementById('cookiesToggle');
            
            // Advanced Calculator elements
            const calcDisplay = document.getElementById('calcDisplay');
            const calcModeBtns = document.querySelectorAll('.calc-mode-btn');
            const basicButtons = document.getElementById('basicButtons');
            const scientificButtons = document.getElementById('scientificButtons');
            const programmerButtons = document.getElementById('programmerButtons');
            const calcButtons = document.querySelectorAll('.calc-btn');
            const calcHistory = document.getElementById('calcHistory');
            
            // AI Assistant elements
            const aiProvider = document.getElementById('aiProvider');
            const apiKeyInput = document.getElementById('apiKeyInput');
            const aiChatContainer = document.getElementById('aiChatContainer');
            const aiInput = document.getElementById('aiInput');
            const aiSendBtn = document.getElementById('aiSendBtn');
            
            // Theme elements
            const themeOptions = document.querySelectorAll('.theme-option');
            const primaryColor = document.getElementById('primaryColor');
            const secondaryColor = document.getElementById('secondaryColor');
            const bgColor = document.getElementById('bgColor');
            const cardBgColor = document.getElementById('cardBgColor');
            const textColor = document.getElementById('textColor');
            const accentColor = document.getElementById('accentColor');
            const borderColor = document.getElementById('borderColor');
            const shadowColor = document.getElementById('shadowColor');
            const applyThemeBtn = document.getElementById('applyThemeBtn');
            const resetThemeBtn = document.getElementById('resetThemeBtn');
            const saveThemeBtn = document.getElementById('saveThemeBtn');
            
            // Advanced Calculator state
            let calcState = {
                currentValue: '0',
                previousValue: null,
                operator: null,
                waitingForNewValue: false,
                mode: 'basic',
                expression: '',
                history: [],
                currentBase: 'decimal'
            };
            
            // AI Assistant state
            const aiMessages = [
                { role: 'assistant', content: "Hello! I'm your AI assistant. How can I help you today?" }
            ];
            
            // Enhanced Proxy services
            const proxyServices = {
                ultra: (url) => `https://api.allorigins.win/raw?url=${encodeURIComponent(url)}`,
                stealth: (url) => `https://corsproxy.io/?${encodeURIComponent(url)}`,
                corsproxy: (url) => `https://corsproxy.io/?${encodeURIComponent(url)}`,
                allorigins: (url) => `https://api.allorigins.win/get?url=${encodeURIComponent(url)}`,
                corsanywhere: (url) => `https://cors-anywhere.herokuapp.com/${url}`,
                heroku: (url) => `https://cors-proxy.htmldriven.com/?url=${encodeURIComponent(url)}`,
                crossorigin: (url) => `https://crossorigin.me/${url}`,
                proxy: (url) => `https://proxy.duckduckgo.com/iu/?u=${encodeURIComponent(url)}`
            };
            
            // User agents for spoofing
            const userAgents = [
                'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36',
                'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.1.1 Safari/605.1.15',
                'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:89.0) Gecko/20100101 Firefox/89.0',
                'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.107 Safari/537.36'
            ];
            
            // Session statistics
            let sessionData = {
                bytes: 0,
                sites: 0,
                currentUrl: '',
                proxyTests: 0,
                successfulTests: 0
            };
            
            // Initialize settings
            loadSettings();
            
            // Initialize connection status
            updateConnectionStatus();
            
            // Initialize
            setupEventListeners();
            
            function setupEventListeners() {
                browseBtn.addEventListener('click', browseWebsite);
                textModeBtn.addEventListener('click', fetchTextContent);
                popularSitesBtn.addEventListener('click', () => modal.style.display = 'block');
                testProxiesBtn.addEventListener('click', testAllProxies);
                fullscreenBtn.addEventListener('click', enterFullscreen);
                urlInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') browseWebsite();
                });
                
                // Quick access buttons
                quickAccessBtns.forEach(btn => {
                    btn.addEventListener('click', function() {
                        urlInput.value = this.getAttribute('data-url');
                        browseWebsite();
                    });
                });
                
                // Modal functionality
                closeModal.addEventListener('click', () => modal.style.display = 'none');
                window.addEventListener('click', (e) => {
                    if (e.target === modal) modal.style.display = 'none';
                });
                
                // Site buttons in modal
                siteBtns.forEach(btn => {
                    btn.addEventListener('click', function() {
                        urlInput.value = this.getAttribute('data-url');
                        modal.style.display = 'none';
                        browseWebsite();
                    });
                });
                
                // Advanced options toggle
                advancedToggle.addEventListener('click', function() {
                    advancedContent.classList.toggle('show');
                    const icon = this.querySelector('.fa-chevron-down');
                    icon.classList.toggle('fa-chevron-up');
                });
                
                // Fullscreen controls
                exitFullscreenBtn.addEventListener('click', exitFullscreen);
                fullscreenBackBtn.addEventListener('click', () => {
                    try {
                        fullscreenFrame.contentWindow.history.back();
                    } catch (e) {
                        showStatus('Cannot navigate back in fullscreen mode', 'error');
                    }
                });
                fullscreenForwardBtn.addEventListener('click', () => {
                    try {
                        fullscreenFrame.contentWindow.history.forward();
                    } catch (e) {
                        showStatus('Cannot navigate forward in fullscreen mode', 'error');
                    }
                });
                fullscreenReloadBtn.addEventListener('click', () => {
                    fullscreenFrame.contentWindow.location.reload();
                });
                
                // Settings functionality
                settingsBtn.addEventListener('click', () => settingsPanel.classList.add('open'));
                closeSettings.addEventListener('click', () => settingsPanel.classList.remove('open'));
                
                // Default settings
                defaultProxy.addEventListener('change', saveSettings);
                defaultMethod.addEventListener('change', saveSettings);
                
                // Auto-hide toggle
                autoHideToggle.addEventListener('change', function() {
                    autoHideStatus.textContent = this.checked ? 'Enabled' : 'Disabled';
                    saveSettings();
                });
                
                // Fullscreen mode toggle
                fullscreenModeToggle.addEventListener('change', function() {
                    fullscreenModeStatus.textContent = this.checked ? 'Enabled' : 'Disabled';
                    saveSettings();
                });
                
                // Session stats toggle
                sessionStatsToggle.addEventListener('change', function() {
                    sessionStatsStatus.textContent = this.checked ? 'Enabled' : 'Disabled';
                    saveSettings();
                });
                
                // Clear data button
                clearDataBtn.addEventListener('click', function() {
                    if (confirm('Are you sure you want to clear all browsing data? This cannot be undone.')) {
                        localStorage.removeItem('unblockerProSettings');
                        sessionData = { bytes: 0, sites: 0, currentUrl: '', proxyTests: 0, successfulTests: 0 };
                        updateSessionStats();
                        location.reload();
                    }
                });
                
                // Reset settings button
                resetSettingsBtn.addEventListener('click', function() {
                    if (confirm('Are you sure you want to reset all settings to defaults?')) {
                        localStorage.removeItem('unblockerProSettings');
                        location.reload();
                    }
                });
                
                // Advanced options
                userAgentToggle.addEventListener('change', saveSettings);
                httpsToggle.addEventListener('change', saveSettings);
                blockTabsToggle.addEventListener('change', saveSettings);
                autoRetryToggle.addEventListener('change', saveSettings);
                javascriptToggle.addEventListener('change', saveSettings);
                imagesToggle.addEventListener('change', saveSettings);
                cookiesToggle.addEventListener('change', saveSettings);
                
                // Advanced Calculator functionality
                calcModeBtns.forEach(button => {
                    button.addEventListener('click', function() {
                        calcModeBtns.forEach(btn => btn.classList.remove('active'));
                        this.classList.add('active');
                        switchCalculatorMode(this.dataset.mode);
                    });
                });
                
                calcButtons.forEach(button => {
                    button.addEventListener('click', handleCalculatorInput);
                });
                
                // AI Assistant functionality
                aiSendBtn.addEventListener('click', sendAIMessage);
                aiInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') sendAIMessage();
                });
                
                // Theme functionality
                themeOptions.forEach(option => {
                    option.addEventListener('click', function() {
                        themeOptions.forEach(opt => opt.classList.remove('active'));
                        this.classList.add('active');
                        applyTheme(this.dataset.theme);
                    });
                });
                
                applyThemeBtn.addEventListener('click', applyCustomTheme);
                resetThemeBtn.addEventListener('click', resetToDefaultTheme);
                saveThemeBtn.addEventListener('click', saveCustomTheme);
                
                // Prevent new tabs
                window.addEventListener('beforeunload', function(e) {
                    if (blockTabsToggle.checked) {
                        // This is a basic prevention - more advanced would require iframe interception
                        return null;
                    }
                });
                
                // Intercept iframe attempts to open new windows
                resultFrame.addEventListener('load', function() {
                    try {
                        // This is a simplified approach - in a real implementation,
                        // you would need to properly intercept and handle these events
                        const iframeWindow = resultFrame.contentWindow;
                        iframeWindow.open = function() {
                            showStatus('New tab/window blocked for security', 'error');
                            return null;
                        };
                    } catch (e) {
                        // Cross-origin restrictions may prevent this
                    }
                });
                
                // Fullscreen iframe event listeners
                fullscreenFrame.addEventListener('load', function() {
                    fullscreenUrl.value = fullscreenFrame.src;
                    sessionData.currentUrl = fullscreenFrame.src;
                    updateSessionStats();
                });
            }
            
            async function browseWebsite() {
                const url = urlInput.value.trim();
                if (!url) {
                    showStatus('Please enter a website URL', 'error');
                    return;
                }
                
                showStatus('Connecting to proxy network...', 'success');
                loader.style.display = 'block';
                browseResult.style.display = 'none';
                
                // Add protocol if missing
                let fullUrl = url;
                if (!url.startsWith('http://') && !url.startsWith('https://')) {
                    fullUrl = 'https://' + url;
                }
                
                // Force HTTPS if enabled
                if (httpsToggle.checked) {
                    fullUrl = fullUrl.replace('http://', 'https://');
                }
                
                const selectedProxy = proxySelector.value;
                const selectedMethod = methodSelector.value;
                
                // Update session stats
                sessionData.sites++;
                sessionData.currentUrl = fullUrl;
                updateSessionStats();
                
                try {
                    if (selectedMethod === 'iframe') {
                        // Direct iframe method
                        resultFrame.src = fullUrl;
                        browseResult.style.display = 'block';
                        showStatus('Connected via iFrame', 'success');
                        activeProxyValue.textContent = 'Direct';
                        activeMethodValue.textContent = 'iFrame';
                    } else {
                        // Use enhanced proxy methods
                        let htmlContent;
                        
                        if (selectedProxy === 'auto') {
                            // Try all proxies until one works
                            htmlContent = await tryAllProxies(fullUrl);
                        } else {
                            // Use selected proxy
                            htmlContent = await fetchWithProxy(fullUrl, selectedProxy);
                        }
                        
                        // Display content in iframe
                        resultFrame.src = "about:blank";
                        
                        // Modify HTML to prevent new tabs and fix frame-busting scripts
                        if (blockTabsToggle.checked) {
                            htmlContent = htmlContent.replace(/<a[^>]*target=["']_blank["'][^>]*>/gi, 
                                function(match) {
                                    return match.replace('target="_blank"', 'target="_self"');
                                });
                        }
                        
                        // Fix for TikTok and 9anime - remove frame-busting scripts
                        htmlContent = htmlContent.replace(/<script[^>]*>[\s\S]*?window\.top[\s\S]*?<\/script>/gi, '');
                        htmlContent = htmlContent.replace(/if\s*\(\s*window\s*!=\s*window\.top\s*\)/gi, 'if(false)');
                        
                        const blob = new Blob([htmlContent], { type: 'text/html' });
                        const blobUrl = URL.createObjectURL(blob);
                        resultFrame.src = blobUrl;
                        
                        browseResult.style.display = 'block';
                        showStatus('Website unblocked successfully!', 'success');
                        activeProxyValue.textContent = selectedProxy === 'auto' ? 'Auto' : selectedProxy;
                        activeMethodValue.textContent = selectedMethod;
                    }
                } catch (error) {
                    console.error('Proxy error:', error);
                    
                    // Auto-retry if enabled
                    if (autoRetryToggle.checked) {
                        showStatus('First attempt failed, retrying with alternative method...', 'error');
                        try {
                            // Try with alternative proxy
                            const htmlContent = await tryAllProxies(fullUrl);
                            resultFrame.src = "about:blank";
                            const blob = new Blob([htmlContent], { type: 'text/html' });
                            const blobUrl = URL.createObjectURL(blob);
                            resultFrame.src = blobUrl;
                            browseResult.style.display = 'block';
                            showStatus('Website unblocked on retry!', 'success');
                            activeProxyValue.textContent = 'Auto (Retry)';
                            activeMethodValue.textContent = selectedMethod;
                        } catch (retryError) {
                            showStatus('All connection methods failed. Please try a different site or check the URL.', 'error');
                        }
                    } else {
                        showStatus('Failed to unblock website: ' + error.message, 'error');
                    }
                } finally {
                    loader.style.display = 'none';
                }
            }
            
            async function fetchTextContent() {
                const url = urlInput.value.trim();
                if (!url) {
                    showStatus('Please enter a website URL', 'error');
                    return;
                }
                
                showStatus('Fetching text content...', 'success');
                loader.style.display = 'block';
                browseResult.style.display = 'none';
                
                // Add protocol if missing
                let fullUrl = url;
                if (!url.startsWith('http://') && !url.startsWith('https://')) {
                    fullUrl = 'https://' + url;
                }
                
                // Force HTTPS if enabled
                if (httpsToggle.checked) {
                    fullUrl = fullUrl.replace('http://', 'https://');
                }
                
                try {
                    // Try all proxies until one works
                    const htmlContent = await tryAllProxies(fullUrl);
                    
                    // Extract text from HTML
                    const tempDiv = document.createElement('div');
                    tempDiv.innerHTML = htmlContent;
                    
                    // Remove script and style elements
                    const scripts = tempDiv.getElementsByTagName('script');
                    const styles = tempDiv.getElementsByTagName('style');
                    
                    for (let i = scripts.length - 1; i >= 0; i--) {
                        scripts[i].parentNode.removeChild(scripts[i]);
                    }
                    
                    for (let i = styles.length - 1; i >= 0; i--) {
                        styles[i].parentNode.removeChild(styles[i]);
                    }
                    
                    // Get text content
                    const text = tempDiv.textContent || tempDiv.innerText || '';
                    
                    // Create text result display
                    const textResult = document.createElement('div');
                    textResult.className = 'text-result';
                    textResult.textContent = text.substring(0, 10000) + (text.length > 10000 ? '\n\n... (content truncated)' : '');
                    
                    // Replace iframe with text result
                    browseResult.innerHTML = '';
                    browseResult.appendChild(textResult);
                    browseResult.style.display = 'block';
                    
                    showStatus('Text content extracted successfully!', 'success');
                } catch (error) {
                    console.error('Proxy error:', error);
                    showStatus('Failed to fetch content: ' + error.message, 'error');
                } finally {
                    loader.style.display = 'none';
                }
            }
            
            async function tryAllProxies(url) {
                const proxyNames = ['ultra', 'stealth', 'corsproxy', 'allorigins', 'corsanywhere', 'heroku', 'crossorigin', 'proxy'];
                
                for (let i = 0; i < proxyNames.length; i++) {
                    const proxyName = proxyNames[i];
                    try {
                        showStatus(`Trying proxy: ${proxyName}...`, 'success');
                        const content = await fetchWithProxy(url, proxyName);
                        showStatus(`Connected via ${proxyName}`, 'success');
                        return content;
                    } catch (error) {
                        console.warn(`Proxy ${proxyName} failed:`, error);
                        // Continue to next proxy
                    }
                }
                
                throw new Error('All proxy services failed. Try a different site or check your connection.');
            }
            
            async function fetchWithProxy(url, proxyName) {
                const proxyUrl = proxyServices[proxyName](url);
                
                const options = {};
                
                // Add headers for spoofing if enabled
                if (userAgentToggle.checked) {
                    const randomUserAgent = userAgents[Math.floor(Math.random() * userAgents.length)];
                    options.headers = {
                        'User-Agent': randomUserAgent
                    };
                }
                
                const response = await fetch(proxyUrl, options);
                
                if (!response.ok) {
                    throw new Error(`Proxy ${proxyName} returned ${response.status}`);
                }
                
                // Update bytes transferred
                const content = await response.text();
                sessionData.bytes += content.length;
                updateSessionStats();
                
                // Handle different proxy response formats
                if (proxyName === 'allorigins') {
                    const data = await response.json();
                    return data.contents;
                } else {
                    return content;
                }
            }
            
            async function testAllProxies() {
                showStatus('Testing all proxy servers...', 'success');
                proxyTestResults.style.display = 'block';
                proxyTestResults.innerHTML = '<div class="proxy-result"><span class="proxy-name">Testing...</span><span class="proxy-status pending">Testing</span></div>';
                
                const testUrl = 'https://httpbin.org/get';
                const proxyNames = ['ultra', 'stealth', 'corsproxy', 'allorigins', 'corsanywhere', 'heroku', 'crossorigin', 'proxy'];
                let workingProxies = 0;
                let totalResponseTime = 0;
                
                proxyTestResults.innerHTML = '';
                
                for (const proxyName of proxyNames) {
                    const resultDiv = document.createElement('div');
                    resultDiv.className = 'proxy-result';
                    resultDiv.innerHTML = `
                        <span class="proxy-name">${proxyName}</span>
                        <span class="proxy-status pending">Testing...</span>
                    `;
                    proxyTestResults.appendChild(resultDiv);
                    
                    try {
                        const startTime = Date.now();
                        await fetchWithProxy(testUrl, proxyName);
                        const responseTime = Date.now() - startTime;
                        totalResponseTime += responseTime;
                        
                        resultDiv.querySelector('.proxy-status').textContent = `${responseTime}ms`;
                        resultDiv.querySelector('.proxy-status').className = 'proxy-status success';
                        workingProxies++;
                    } catch (error) {
                        resultDiv.querySelector('.proxy-status').textContent = 'Failed';
                        resultDiv.querySelector('.proxy-status').className = 'proxy-status failed';
                    }
                }
                
                // Update proxy statistics
                sessionData.proxyTests++;
                sessionData.successfulTests += workingProxies;
                const successRate = Math.round((sessionData.successfulTests / (sessionData.proxyTests * proxyNames.length)) * 100);
                const avgTime = Math.round(totalResponseTime / workingProxies);
                
                proxySuccessRate.textContent = `${successRate}%`;
                avgResponseTime.textContent = `${avgTime}ms`;
                
                updateConnectionStatus();
                showStatus(`Proxy test completed: ${workingProxies}/${proxyNames.length} working`, 'success');
            }
            
            function updateConnectionStatus() {
                // Simulate connection status check
                const isConnected = Math.random() > 0.2; // 80% chance of being connected
                
                if (isConnected) {
                    connectionDot.className = 'connection-dot connected';
                    connectionStatus.textContent = 'Connected - All systems operational';
                } else {
                    connectionDot.className = 'connection-dot';
                    connectionStatus.textContent = 'Connection issues detected';
                }
            }
            
            function updateSessionStats() {
                if (sessionStatsToggle.checked) {
                    bytesTransferred.textContent = (sessionData.bytes / 1024).toFixed(2) + ' KB';
                    sitesVisited.textContent = sessionData.sites;
                } else {
                    bytesTransferred.textContent = 'Disabled';
                    sitesVisited.textContent = 'Disabled';
                }
            }
            
            function enterFullscreen() {
                if (!fullscreenModeToggle.checked) {
                    showStatus('Fullscreen mode is disabled in settings', 'error');
                    return;
                }
                
                if (!resultFrame.src || resultFrame.src === 'about:blank') {
                    showStatus('No website loaded to view in fullscreen', 'error');
                    return;
                }
                
                fullscreenFrame.src = resultFrame.src;
                fullscreenUrl.value = resultFrame.src;
                fullscreenContainer.style.display = 'flex';
                document.body.classList.add('fullscreen-active');
                
                showStatus('Entered fullscreen mode', 'success');
            }
            
            function exitFullscreen() {
                fullscreenContainer.style.display = 'none';
                document.body.classList.remove('fullscreen-active');
                
                showStatus('Exited fullscreen mode', 'success');
            }
            
            function showStatus(message, type) {
                statusMessage.textContent = message;
                statusMessage.className = `status-message status-${type}`;
                statusMessage.style.display = 'block';
                
                // Auto hide if enabled
                if (autoHideToggle.checked) {
                    setTimeout(() => {
                        statusMessage.style.display = 'none';
                    }, 5000);
                }
            }
            
            // Advanced Calculator functions
            function switchCalculatorMode(mode) {
                calcState.mode = mode;
                
                // Hide all button sets
                basicButtons.style.display = 'none';
                scientificButtons.style.display = 'none';
                programmerButtons.style.display = 'none';
                
                // Show the appropriate button set
                if (mode === 'basic') {
                    basicButtons.style.display = 'grid';
                } else if (mode === 'scientific') {
                    scientificButtons.style.display = 'grid';
                } else if (mode === 'programmer') {
                    programmerButtons.style.display = 'grid';
                }
                
                // Reset calculator for new mode
                calcState.currentValue = '0';
                calcState.previousValue = null;
                calcState.operator = null;
                calcState.waitingForNewValue = false;
                calcState.expression = '';
                updateCalculatorDisplay();
            }
            
            function handleCalculatorInput(e) {
                const button = e.currentTarget;
                const action = button.dataset.action;
                const number = button.dataset.number;
                
                if (number) {
                    inputNumber(number);
                } else if (action) {
                    handleAction(action);
                }
                
                updateCalculatorDisplay();
            }
            
            function inputNumber(num) {
                if (calcState.waitingForNewValue) {
                    calcState.currentValue = num;
                    calcState.waitingForNewValue = false;
                } else {
                    calcState.currentValue = calcState.currentValue === '0' ? num : calcState.currentValue + num;
                }
                
                // Add to expression for scientific mode
                if (calcState.mode === 'scientific') {
                    calcState.expression += num;
                }
            }
            
            function handleAction(action) {
                switch (action) {
                    case 'clear':
                        calcState.currentValue = '0';
                        calcState.previousValue = null;
                        calcState.operator = null;
                        calcState.waitingForNewValue = false;
                        calcState.expression = '';
                        break;
                    case 'clear-entry':
                        calcState.currentValue = '0';
                        if (calcState.mode === 'scientific') {
                            calcState.expression = '';
                        }
                        break;
                    case 'backspace':
                        if (calcState.currentValue.length > 1) {
                            calcState.currentValue = calcState.currentValue.slice(0, -1);
                            if (calcState.mode === 'scientific') {
                                calcState.expression = calcState.expression.slice(0, -1);
                            }
                        } else {
                            calcState.currentValue = '0';
                            if (calcState.mode === 'scientific') {
                                calcState.expression = '';
                            }
                        }
                        break;
                    case 'decimal':
                        if (!calcState.currentValue.includes('.')) {
                            calcState.currentValue += '.';
                            if (calcState.mode === 'scientific') {
                                calcState.expression += '.';
                            }
                        }
                        break;
                    case 'add':
                    case 'subtract':
                    case 'multiply':
                    case 'divide':
                        if (calcState.operator && !calcState.waitingForNewValue) {
                            calculate();
                        }
                        calcState.previousValue = calcState.currentValue;
                        calcState.operator = action;
                        calcState.waitingForNewValue = true;
                        
                        if (calcState.mode === 'scientific') {
                            calcState.expression += getOperatorSymbol(action);
                        }
                        break;
                    case 'percent':
                        calcState.currentValue = String(parseFloat(calcState.currentValue) / 100);
                        break;
                    case 'calculate':
                        if (calcState.operator && calcState.previousValue !== null) {
                            calculate();
                            calcState.operator = null;
                            calcState.previousValue = null;
                            calcState.waitingForNewValue = true;
                        } else if (calcState.mode === 'scientific' && calcState.expression) {
                            // Evaluate the expression for scientific mode
                            try {
                                // Replace symbols for evaluation
                                let evalExpression = calcState.expression
                                    .replace(/×/g, '*')
                                    .replace(/÷/g, '/')
                                    .replace(/π/g, Math.PI)
                                    .replace(/e/g, Math.E);
                                
                                // Evaluate the expression
                                const result = Function('"use strict"; return (' + evalExpression + ')')();
                                calcState.currentValue = String(result);
                                
                                // Add to history
                                addToHistory(calcState.expression, result);
                            } catch (error) {
                                calcState.currentValue = 'Error';
                            }
                            calcState.expression = '';
                        }
                        break;
                    // Scientific functions
                    case 'sin':
                        calcState.currentValue = String(Math.sin(parseFloat(calcState.currentValue)));
                        calcState.expression = `sin(${calcState.currentValue})`;
                        break;
                    case 'cos':
                        calcState.currentValue = String(Math.cos(parseFloat(calcState.currentValue)));
                        calcState.expression = `cos(${calcState.currentValue})`;
                        break;
                    case 'tan':
                        calcState.currentValue = String(Math.tan(parseFloat(calcState.currentValue)));
                        calcState.expression = `tan(${calcState.currentValue})`;
                        break;
                    case 'asin':
                        calcState.currentValue = String(Math.asin(parseFloat(calcState.currentValue)));
                        calcState.expression = `asin(${calcState.currentValue})`;
                        break;
                    case 'acos':
                        calcState.currentValue = String(Math.acos(parseFloat(calcState.currentValue)));
                        calcState.expression = `acos(${calcState.currentValue})`;
                        break;
                    case 'atan':
                        calcState.currentValue = String(Math.atan(parseFloat(calcState.currentValue)));
                        calcState.expression = `atan(${calcState.currentValue})`;
                        break;
                    case 'log':
                        calcState.currentValue = String(Math.log10(parseFloat(calcState.currentValue)));
                        calcState.expression = `log(${calcState.currentValue})`;
                        break;
                    case 'ln':
                        calcState.currentValue = String(Math.log(parseFloat(calcState.currentValue)));
                        calcState.expression = `ln(${calcState.currentValue})`;
                        break;
                    case 'sqrt':
                        calcState.currentValue = String(Math.sqrt(parseFloat(calcState.currentValue)));
                        calcState.expression = `√(${calcState.currentValue})`;
                        break;
                    case 'power':
                        if (calcState.mode === 'scientific') {
                            calcState.expression += '^';
                        }
                        break;
                    case 'factorial':
                        const num = parseInt(calcState.currentValue);
                        if (num >= 0) {
                            let result = 1;
                            for (let i = 2; i <= num; i++) {
                                result *= i;
                            }
                            calcState.currentValue = String(result);
                            calcState.expression = `${num}!`;
                        } else {
                            calcState.currentValue = 'Error';
                        }
                        break;
                    case 'pi':
                        calcState.currentValue = String(Math.PI);
                        if (calcState.mode === 'scientific') {
                            calcState.expression += 'π';
                        }
                        break;
                    case 'e':
                        calcState.currentValue = String(Math.E);
                        if (calcState.mode === 'scientific') {
                            calcState.expression += 'e';
                        }
                        break;
                    case 'open-paren':
                        if (calcState.mode === 'scientific') {
                            calcState.expression += '(';
                        }
                        break;
                    case 'close-paren':
                        if (calcState.mode === 'scientific') {
                            calcState.expression += ')';
                        }
                        break;
                    // Programmer mode functions
                    case 'binary':
                        calcState.currentBase = 'binary';
                        calcState.currentValue = parseInt(calcState.currentValue).toString(2);
                        break;
                    case 'octal':
                        calcState.currentBase = 'octal';
                        calcState.currentValue = parseInt(calcState.currentValue).toString(8);
                        break;
                    case 'decimal':
                        calcState.currentBase = 'decimal';
                        // Already in decimal
                        break;
                    case 'hexadecimal':
                        calcState.currentBase = 'hexadecimal';
                        calcState.currentValue = parseInt(calcState.currentValue).toString(16).toUpperCase();
                        break;
                    case 'and':
                    case 'or':
                    case 'xor':
                    case 'not':
                    case 'shift-left':
                    case 'shift-right':
                    case 'modulo':
                        // Basic implementation - in a full version, these would be implemented
                        showStatus(`Function ${action} would be implemented in a full version`, 'success');
                        break;
                    case 'a':
                    case 'b':
                    case 'c':
                    case 'd':
                    case 'e':
                    case 'f':
                        if (calcState.currentBase === 'hexadecimal') {
                            inputNumber(action.toUpperCase());
                        }
                        break;
                }
            }
            
            function getOperatorSymbol(action) {
                switch (action) {
                    case 'add': return '+';
                    case 'subtract': return '-';
                    case 'multiply': return '×';
                    case 'divide': return '÷';
                    default: return action;
                }
            }
            
            function calculate() {
                const prev = parseFloat(calcState.previousValue);
                const current = parseFloat(calcState.currentValue);
                
                if (isNaN(prev) || isNaN(current)) return;
                
                let result;
                switch (calcState.operator) {
                    case 'add':
                        result = prev + current;
                        break;
                    case 'subtract':
                        result = prev - current;
                        break;
                    case 'multiply':
                        result = prev * current;
                        break;
                    case 'divide':
                        result = prev / current;
                        break;
                    default:
                        return;
                }
                
                calcState.currentValue = String(result);
                
                // Add to history
                addToHistory(`${prev} ${getOperatorSymbol(calcState.operator)} ${current}`, result);
            }
            
            function addToHistory(expression, result) {
                calcState.history.unshift({ expression, result });
                
                // Keep only last 5 history items
                if (calcState.history.length > 5) {
                    calcState.history.pop();
                }
                
                updateCalculatorHistory();
            }
            
            function updateCalculatorHistory() {
                calcHistory.innerHTML = '';
                
                calcState.history.forEach(item => {
                    const historyItem = document.createElement('div');
                    historyItem.className = 'history-item';
                    historyItem.textContent = `${item.expression} = ${item.result}`;
                    historyItem.addEventListener('click', () => {
                        calcState.currentValue = String(item.result);
                        updateCalculatorDisplay();
                    });
                    calcHistory.appendChild(historyItem);
                });
            }
            
            function updateCalculatorDisplay() {
                if (calcState.mode === 'scientific' && calcState.expression) {
                    calcDisplay.textContent = calcState.expression;
                } else {
                    calcDisplay.textContent = calcState.currentValue;
                }
            }
            
            // AI Assistant functions
            async function sendAIMessage() {
                const message = aiInput.value.trim();
                if (!message) return;
                
                // Add user message to chat
                addAIMessage('user', message);
                aiInput.value = '';
                aiSendBtn.disabled = true;
                
                // Show typing indicator
                const typingIndicator = document.createElement('div');
                typingIndicator.className = 'ai-message assistant';
                typingIndicator.textContent = 'AI is typing...';
                typingIndicator.id = 'typingIndicator';
                aiChatContainer.appendChild(typingIndicator);
                aiChatContainer.scrollTop = aiChatContainer.scrollHeight;
                
                try {
                    const provider = aiProvider.value;
                    let response;
                    
                    if (provider === 'deepseek') {
                        response = await callDeepSeekAPI(message);
                    } else {
                        response = await simulateAI(message);
                    }
                    
                    // Remove typing indicator
                    document.getElementById('typingIndicator').remove();
                    
                    // Add AI response
                    addAIMessage('assistant', response);
                } catch (error) {
                    // Remove typing indicator
                    document.getElementById('typingIndicator').remove();
                    
                    // Add error message
                    addAIMessage('assistant', "I'm sorry, I encountered an error. Please try again later.");
                    console.error('AI Error:', error);
                } finally {
                    aiSendBtn.disabled = false;
                }
            }
            
            async function callDeepSeekAPI(message) {
                const apiKey = apiKeyInput.value.trim();
                
                if (!apiKey) {
                    throw new Error('Please enter your DeepSeek API key');
                }
                
                // Add the new message to the conversation history
                aiMessages.push({ role: 'user', content: message });
                
                const response = await fetch('https://api.deepseek.com/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${apiKey}`
                    },
                    body: JSON.stringify({
                        model: 'deepseek-chat',
                        messages: aiMessages,
                        stream: false
                    })
                });
                
                if (!response.ok) {
                    throw new Error(`API returned ${response.status}: ${response.statusText}`);
                }
                
                const data = await response.json();
                const aiResponse = data.choices[0].message.content;
                
                // Add the AI response to the conversation history
                aiMessages.push({ role: 'assistant', content: aiResponse });
                
                return aiResponse;
            }
            
            // Simulated AI response
            async function simulateAI(message) {
                // In a real implementation, you would call the DeepSeek API here
                // This is a simulation that returns predefined responses based on keywords
                
                // Simulate API delay
                await new Promise(resolve => setTimeout(resolve, 1000 + Math.random() * 2000));
                
                const lowerMessage = message.toLowerCase();
                
                // Add user message to history for simulated AI
                aiMessages.push({ role: 'user', content: message });
                
                let response;
                if (lowerMessage.includes('hello') || lowerMessage.includes('hi')) {
                    response = "Hello! How can I assist you today?";
                } else if (lowerMessage.includes('proxy') || lowerMessage.includes('unblock')) {
                    response = "Unblocker Pro uses advanced proxy technology to bypass restrictions. It routes your traffic through secure servers to access blocked content.";
                } else if (lowerMessage.includes('calculator')) {
                    response = "The advanced calculator supports basic arithmetic, scientific functions (trigonometry, logarithms, etc.), and programmer functions (binary, hex, etc.).";
                } else if (lowerMessage.includes('theme') || lowerMessage.includes('color')) {
                    response = "You can customize the appearance of Unblocker Pro using the theme options in settings. Choose from predefined themes or create your own custom theme.";
                } else if (lowerMessage.includes('help')) {
                    response = "I can help you with questions about Unblocker Pro features, proxy technology, or general assistance. Just ask!";
                } else if (lowerMessage.includes('deepseek')) {
                    response = "DeepSeek is a powerful AI model that can assist with various tasks. To use it, select 'DeepSeek AI' from the dropdown and enter your API key.";
                } else if (lowerMessage.includes('tiktok') || lowerMessage.includes('9anime')) {
                    response = "For sites like TikTok and 9anime, try using the 'Ultra Bypass' or 'Stealth Mode' proxy options. These are optimized for media-heavy websites that often have frame-busting scripts.";
                } else {
                    response = "I understand you're asking: '" + message + "'. In a real implementation with DeepSeek API, this would generate a more comprehensive response.";
                }
                
                // Add AI response to history for simulated AI
                aiMessages.push({ role: 'assistant', content: response });
                
                return response;
            }
            
            function addAIMessage(role, content) {
                const messageDiv = document.createElement('div');
                messageDiv.className = `ai-message ${role}`;
                messageDiv.textContent = content;
                aiChatContainer.appendChild(messageDiv);
                aiChatContainer.scrollTop = aiChatContainer.scrollHeight;
            }
            
            // Theme functions
            function applyTheme(themeName) {
                let primary, secondary, bg, cardBg, text, accent, border, shadow;
                
                switch (themeName) {
                    case 'dark':
                        primary = '#00ff88';
                        secondary = '#00ccff';
                        bg = '#0a0a0a';
                        cardBg = 'rgba(20, 20, 20, 0.8)';
                        text = '#e0e0e0';
                        accent = '#ff3232';
                        border = 'rgba(0, 255, 136, 0.2)';
                        shadow = 'rgba(0, 255, 136, 0.3)';
                        break;
                    case 'blue':
                        primary = '#4dabf7';
                        secondary = '#339af0';
                        bg = '#0f1419';
                        cardBg = 'rgba(25, 35, 45, 0.8)';
                        text = '#e9ecef';
                        accent = '#ff6b6b';
                        border = 'rgba(77, 171, 247, 0.2)';
                        shadow = 'rgba(77, 171, 247, 0.3)';
                        break;
                    case 'purple':
                        primary = '#9c36b5';
                        secondary = '#ae3ec9';
                        bg = '#1a0d1f';
                        cardBg = 'rgba(45, 25, 50, 0.8)';
                        text = '#f3e5f5';
                        accent = '#ffab00';
                        border = 'rgba(156, 54, 181, 0.2)';
                        shadow = 'rgba(156, 54, 181, 0.3)';
                        break;
                    case 'red':
                        primary = '#ff6b6b';
                        secondary = '#fa5252';
                        bg = '#1a0d0d';
                        cardBg = 'rgba(45, 25, 25, 0.8)';
                        text = '#f8d7da';
                        accent = '#4dabf7';
                        border = 'rgba(255, 107, 107, 0.2)';
                        shadow = 'rgba(255, 107, 107, 0.3)';
                        break;
                    case 'green':
                        primary = '#51cf66';
                        secondary = '#40c057';
                        bg = '#0d1a0d';
                        cardBg = 'rgba(25, 45, 25, 0.8)';
                        text = '#d3f9d8';
                        accent = '#ff922b';
                        border = 'rgba(81, 207, 102, 0.2)';
                        shadow = 'rgba(81, 207, 102, 0.3)';
                        break;
                    default: // default theme
                        primary = '#00ff88';
                        secondary = '#00ccff';
                        bg = '#0c0c0c';
                        cardBg = 'rgba(20, 20, 40, 0.7)';
                        text = '#e0e0e0';
                        accent = '#ff3232';
                        border = 'rgba(0, 255, 136, 0.2)';
                        shadow = 'rgba(0, 255, 136, 0.3)';
                }
                
                applyCustomThemeColors(primary, secondary, bg, cardBg, text, accent, border, shadow);
                
                // Update color pickers
                primaryColor.value = primary;
                secondaryColor.value = secondary;
                bgColor.value = bg;
                // For cardBg, border, and shadow, we need to extract the RGB values
                const cardBgRGB = hexToRgb(cardBg);
                cardBgColor.value = rgbToHex(cardBgRGB.r, cardBgRGB.g, cardBgRGB.b);
                
                textColor.value = text;
                accentColor.value = accent;
                
                const borderRGB = hexToRgb(border);
                borderColor.value = rgbToHex(borderRGB.r, borderRGB.g, borderRGB.b);
                
                const shadowRGB = hexToRgb(shadow);
                shadowColor.value = rgbToHex(shadowRGB.r, shadowRGB.g, shadowRGB.b);
            }
            
            function applyCustomTheme() {
                const primary = primaryColor.value;
                const secondary = secondaryColor.value;
                const bg = bgColor.value;
                const cardBg = cardBgColor.value + 'b3'; // Add alpha channel
                const text = textColor.value;
                const accent = accentColor.value;
                const border = borderColor.value + '33'; // Add alpha channel
                const shadow = shadowColor.value + '4d'; // Add alpha channel
                
                applyCustomThemeColors(primary, secondary, bg, cardBg, text, accent, border, shadow);
                
                // Update theme option to custom
                themeOptions.forEach(opt => opt.classList.remove('active'));
            }
            
            function applyCustomThemeColors(primary, secondary, bg, cardBg, text, accent, border, shadow) {
                document.documentElement.style.setProperty('--primary-color', primary);
                document.documentElement.style.setProperty('--secondary-color', secondary);
                document.documentElement.style.setProperty('--bg-color', bg);
                document.documentElement.style.setProperty('--card-bg', cardBg);
                document.documentElement.style.setProperty('--text-color', text);
                document.documentElement.style.setProperty('--accent-color', accent);
                document.documentElement.style.setProperty('--border-color', border);
                document.documentElement.style.setProperty('--shadow-color', shadow);
                
                // Update matrix color
                stopMatrix();
                startMatrix();
            }
            
            function resetToDefaultTheme() {
                applyTheme('default');
                
                // Update theme option to default
                themeOptions.forEach(opt => {
                    opt.classList.remove('active');
                    if (opt.dataset.theme === 'default') {
                        opt.classList.add('active');
                    }
                });
            }
            
            function saveCustomTheme() {
                const theme = {
                    primary: primaryColor.value,
                    secondary: secondaryColor.value,
                    bg: bgColor.value,
                    cardBg: cardBgColor.value,
                    text: textColor.value,
                    accent: accentColor.value,
                    border: borderColor.value,
                    shadow: shadowColor.value
                };
                
                localStorage.setItem('unblockerProCustomTheme', JSON.stringify(theme));
                showStatus('Custom theme saved!', 'success');
            }
            
            function loadCustomTheme() {
                const savedTheme = localStorage.getItem('unblockerProCustomTheme');
                
                if (savedTheme) {
                    const theme = JSON.parse(savedTheme);
                    
                    primaryColor.value = theme.primary;
                    secondaryColor.value = theme.secondary;
                    bgColor.value = theme.bg;
                    cardBgColor.value = theme.cardBg;
                    textColor.value = theme.text;
                    accentColor.value = theme.accent;
                    borderColor.value = theme.border;
                    shadowColor.value = theme.shadow;
                    
                    applyCustomTheme();
                }
            }
            
            // Helper functions for color conversion
            function hexToRgb(hex) {
                // If the hex color includes an alpha channel, remove it
                hex = hex.replace(/[^0-9A-F]/gi, '');
                const bigint = parseInt(hex, 16);
                return {
                    r: (bigint >> 16) & 255,
                    g: (bigint >> 8) & 255,
                    b: bigint & 255
                };
            }
            
            function rgbToHex(r, g, b) {
                return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
            }
            
            // Settings functions
            function saveSettings() {
                const settings = {
                    defaultProxy: defaultProxy.value,
                    defaultMethod: defaultMethod.value,
                    autoHideEnabled: autoHideToggle.checked,
                    fullscreenModeEnabled: fullscreenModeToggle.checked,
                    sessionStatsEnabled: sessionStatsToggle.checked,
                    userAgentEnabled: userAgentToggle.checked,
                    httpsEnabled: httpsToggle.checked,
                    blockTabsEnabled: blockTabsToggle.checked,
                    autoRetryEnabled: autoRetryToggle.checked,
                    javascriptEnabled: javascriptToggle.checked,
                    imagesEnabled: imagesToggle.checked,
                    cookiesEnabled: cookiesToggle.checked
                };
                
                localStorage.setItem('unblockerProSettings', JSON.stringify(settings));
            }
            
            function loadSettings() {
                const savedSettings = localStorage.getItem('unblockerProSettings');
                
                if (savedSettings) {
                    const settings = JSON.parse(savedSettings);
                    
                    // Apply default settings
                    defaultProxy.value = settings.defaultProxy;
                    defaultMethod.value = settings.defaultMethod;
                    proxySelector.value = settings.defaultProxy;
                    methodSelector.value = settings.defaultMethod;
                    
                    // Apply auto-hide setting
                    autoHideToggle.checked = settings.autoHideEnabled;
                    autoHideStatus.textContent = settings.autoHideEnabled ? 'Enabled' : 'Disabled';
                    
                    // Apply fullscreen mode setting
                    fullscreenModeToggle.checked = settings.fullscreenModeEnabled;
                    fullscreenModeStatus.textContent = settings.fullscreenModeEnabled ? 'Enabled' : 'Disabled';
                    
                    // Apply session stats setting
                    sessionStatsToggle.checked = settings.sessionStatsEnabled;
                    sessionStatsStatus.textContent = settings.sessionStatsEnabled ? 'Enabled' : 'Disabled';
                    
                    // Apply advanced options
                    if (settings.userAgentEnabled !== undefined) userAgentToggle.checked = settings.userAgentEnabled;
                    if (settings.httpsEnabled !== undefined) httpsToggle.checked = settings.httpsEnabled;
                    if (settings.blockTabsEnabled !== undefined) blockTabsToggle.checked = settings.blockTabsEnabled;
                    if (settings.autoRetryEnabled !== undefined) autoRetryToggle.checked = settings.autoRetryEnabled;
                    if (settings.javascriptEnabled !== undefined) javascriptToggle.checked = settings.javascriptEnabled;
                    if (settings.imagesEnabled !== undefined) imagesToggle.checked = settings.imagesEnabled;
                    if (settings.cookiesEnabled !== undefined) cookiesToggle.checked = settings.cookiesEnabled;
                }
                
                // Load custom theme
                loadCustomTheme();
                
                // Update session stats display
                updateSessionStats();
            }
            
            // Resize canvas when window resizes
            window.addEventListener('resize', function() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            });
        });
    </script>
</body>
</html>
